@import "tailwindcss";

@theme {
  --font-sans: var(--font-inter);
  --font-display: var(--font-epilogue);
}

/* Force dark mode to use class strategy */
@custom-variant dark (&:where(.dark, .dark *));

/* Custom Utilities */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* GPU-accelerated layer for animations */
.gpu-layer {
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform;
}

/* Optimized Glass Panel - Use semi-transparent bg on mobile, blur on desktop */
.glass-panel {
  background: rgba(255, 255, 255, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.05);
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

/* Only apply blur on larger screens where GPU can handle it */
@media (min-width: 768px) {
  .glass-panel {
    background: rgba(255, 255, 255, 0.4);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

:is(.dark .glass-panel) {
  background: rgba(30, 30, 40, 0.8);
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
}

@media (min-width: 768px) {
  :is(.dark .glass-panel) {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
}

/* Glass card for smaller elements - no backdrop-filter for performance */
.glass-card {
  background: rgba(255, 255, 255, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.4);
}

:is(.dark .glass-card) {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

/* Blob Animations - GPU accelerated with slower timing */
@keyframes blob {
  0% { transform: translate3d(0px, 0px, 0) scale(1); }
  33% { transform: translate3d(30px, -50px, 0) scale(1.1); }
  66% { transform: translate3d(-20px, 20px, 0) scale(0.9); }
  100% { transform: translate3d(0px, 0px, 0) scale(1); }
}

.animate-blob {
  animation: blob 12s infinite;
  will-change: transform;
  contain: layout style paint;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Dark Mode Toggle */
.dark-mode-toggle {
  border: 0;
  background: transparent;
  padding: 0;
  margin: 0;
  cursor: pointer;
  z-index: 50;
}

.dark-mode-toggle__icon {
  width: 3.5rem;
  height: 3.5rem;
  color: #F2C94C;
  transition: color 0.2s linear;
}

.dark-mode-toggle__icon:hover {
  color: #F6C11F;
}

.dark-mode-toggle__icon--moon {
  color: white;
  opacity: 0.6;
  transition: opacity 0.2s linear, color 0.2s linear;
}

.dark-mode-toggle__icon--moon:hover {
  color: white;
  opacity: 0.8;
}

.dark-mode-toggle__rays {
  transition: opacity 0.2s linear 0.2s;
}

.dark-mode-toggle__icon--moon .dark-mode-toggle__rays {
  transition: opacity 0.2s linear;
  opacity: 0;
}

.dark-mode-toggle__cut-out {
  transition: transform 0.5s cubic-bezier(0.54,-0.42, 0.29, 1.3);
}

.dark-mode-toggle__icon--moon .dark-mode-toggle__cut-out {
  transform: translateX(-30%);
  transition: transform 0.5s cubic-bezier(0.21, 0.17, 0.43, 1.43);
}

/* Background Transitions */
:root {
  --bg-light: #f8fafc;
  --bg-dark: #0D0E15;
}

html {
  background-color: var(--bg-light);
  transition: background-color 1s ease 0.6s;
  min-height: 100vh;
}

html.dark {
  background-color: var(--bg-dark);
}

body {
  background-color: transparent;
  min-height: 100vh;
}

/* Theme transition helper */
.theme-slow {
  transition:
    background-color 1s ease 0.6s,
    color 1s ease 0.6s,
    border-color 1s ease 0.6s,
    fill 1s ease 0.6s,
    stroke 1s ease 0.6s,
    box-shadow 1s ease 0.6s,
    opacity 1s ease 0.6s,
    transform 1s ease 0.6s;
}

/* Contain paint for animated elements to prevent repaints */
.paint-contain {
  contain: layout style paint;
}
